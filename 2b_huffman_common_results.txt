================================================================================
    HUFFMAN CODING WITH COMMON CODEBOOK FOR ALL GRAY CODED BIT-PLANES
    Statistics gathered from all 8 bit planes combined
================================================================================

--------------------------------------------------------------------------------
COMMON HUFFMAN CODEBOOK (shared across all bit planes)
--------------------------------------------------------------------------------
Total runs across all planes: 154212
Unique symbols: 239
Combined entropy: 3.6983 bits/symbol

  Symbol       Value    Length   Count      Prob       Huffman Code             
  ------------ -------- -------- ---------- ---------- -------------------------

  --- Runs of 0s (black) ---
  0_1          0        1        34308      0.222473   01                       
  0_2          0        2        17040      0.110497   100                      
  0_3          0        3        8957       0.058082   1011                     
  0_4          0        4        4955       0.032131   11001                    
  0_5          0        5        2939       0.019058   111000                   
  0_6          0        6        1811       0.011744   1110101                  
  0_7          0        7        1199       0.007775   1100011                  
  0_8          0        8        913        0.005920   11101001                 
  0_9          0        9        552        0.003579   11000000                 
  0_10         0        10       432        0.002801   111001011                
  0_11         0        11       338        0.002192   110110001                
  0_12         0        12       253        0.001641   1110111011               
  0_13         0        13       241        0.001563   1110110001               
  0_14         0        14       282        0.001829   110000011                
  0_15         0        15       244        0.001582   1110110010               
  0_16         0        16       169        0.001096   1101101000               
  0_17         0        17       145        0.000940   1100010010               
  0_18         0        18       126        0.000817   11101110100              
  0_19         0        19       118        0.000765   11101100000              
  0_20         0        20       95         0.000616   11011011100              
  0_21         0        21       77         0.000499   11000101100              
  0_22         0        22       97         0.000629   11011011110              
  0_23         0        23       94         0.000610   11011011011              
  0_24         0        24       63         0.000409   111011100111             
  0_25         0        25       77         0.000499   11000100111              
  0_26         0        26       66         0.000428   111011111101             
  0_27         0        27       70         0.000454   11000100000              
  0_28         0        28       48         0.000311   110110111010             
  0_29         0        29       93         0.000603   11011011000              
  0_30         0        30       63         0.000409   111011100110             
  0_31         0        31       58         0.000376   111010001111             
  0_32         0        32       63         0.000409   111011101010             
  0_33         0        33       49         0.000318   111001010100             
  0_34         0        34       52         0.000337   111001010101             
  0_35         0        35       53         0.000344   111010001010             
  0_36         0        36       29         0.000188   1110100011100            
  0_37         0        37       31         0.000201   1110111001010            
  0_38         0        38       32         0.000208   1110111110000            
  0_39         0        39       20         0.000130   1100010111001            
  0_40         0        40       40         0.000259   110001011110             
  0_41         0        41       18         0.000117   11101111111101           
  0_42         0        42       19         0.000123   1100010111000            
  0_43         0        43       17         0.000110   11101111110010           
  0_44         0        44       13         0.000084   11101000101100           
  0_45         0        45       15         0.000097   11101000101111           
  0_46         0        46       15         0.000097   11101110000100           
  0_47         0        47       5          0.000032   110110100110110          
  0_48         0        48       9          0.000058   111011111111001          
  0_49         0        49       3          0.000019   1101101101010111         
  0_50         0        50       8          0.000052   111011100001010          
  0_51         0        51       3          0.000019   1101101101011111         
  0_52         0        52       1          0.000006   111011111100000011       
  0_53         0        53       1          0.000006   111011111100000010       
  0_54         0        54       1          0.000006   111011111100011000       
  0_55         0        55       5          0.000032   110001011101011          
  0_56         0        56       2          0.000013   11101111100010010        
  0_57         0        57       2          0.000013   11101111100111100        
  0_58         0        58       1          0.000006   111011111100000110       
  0_60         0        60       2          0.000013   1100010111011110         
  0_61         0        61       2          0.000013   11101111110000111        
  0_62         0        62       2          0.000013   11101110000101110        
  0_64         0        64       2          0.000013   11101111110000000        
  0_65         0        65       3          0.000019   1101101101010000         
  0_66         0        66       5          0.000032   110001011101010          
  0_67         0        67       8          0.000052   111011111111000          
  0_68         0        68       2          0.000013   11101111100101010        
  0_69         0        69       3          0.000019   1101101101011101         
  0_70         0        70       3          0.000019   1101101101010110         
  0_71         0        71       6          0.000039   110110111110111          
  0_72         0        72       2          0.000013   11101111100101011        
  0_73         0        73       1          0.000006   111011111100010001       
  0_74         0        74       4          0.000026   1110111001011010         
  0_75         0        75       4          0.000026   1110111001011011         
  0_76         0        76       2          0.000013   11101111100010000        
  0_78         0        78       1          0.000006   111011111100011001       
  0_79         0        79       1          0.000006   111011111001011100       
  0_80         0        80       2          0.000013   11101111100010001        
  0_81         0        81       1          0.000006   111011111001110010       
  0_82         0        82       1          0.000006   111011111001110011       
  0_83         0        83       2          0.000013   11101110000101111        
  0_84         0        84       1          0.000006   111011111100011010       
  0_85         0        85       1          0.000006   111011111100011011       
  0_88         0        88       1          0.000006   111011100101110110       
  0_89         0        89       1          0.000006   111011100101110111       
  0_92         0        92       1          0.000006   111011100101111010       
  0_97         0        97       1          0.000006   111011100101111011       
  0_103        0        103      2          0.000013   11101110101101010        
  0_104        0        104      4          0.000026   1110111110011010         
  0_105        0        105      7          0.000045   111010001011101          
  0_106        0        106      5          0.000032   110001011101100          
  0_107        0        107      2          0.000013   11101110101101100        
  0_108        0        108      2          0.000013   11101111110001011        
  0_125        0        125      1          0.000006   111011100101111110       
  0_133        0        133      3          0.000019   1101101111101000         
  0_134        0        134      1          0.000006   111011111100001101       
  0_135        0        135      4          0.000026   1110111001011000         
  0_136        0        136      4          0.000026   1110111110011111         
  0_137        0        137      1          0.000006   111011111100001100       
  0_139        0        139      1          0.000006   111011100101110101       
  0_140        0        140      2          0.000013   11101111100101111        
  0_142        0        142      2          0.000013   11101111100101101        
  0_166        0        166      1          0.000006   111011101011000001       
  0_175        0        175      2          0.000013   11101111100101100        

  --- Runs of 1s (white) ---
  1_0          1        0        983        0.006374   11101101                 
  1_1          1        1        34012      0.220554   00                       
  1_2          1        2        16745      0.108584   1111                     
  1_3          1        3        8777       0.056915   1010                     
  1_4          1        4        5066       0.032851   11010                    
  1_5          1        5        2897       0.018786   110111                   
  1_6          1        6        1760       0.011413   1110011                  
  1_7          1        7        1163       0.007542   1100001                  
  1_8          1        8        824        0.005343   11100100                 
  1_9          1        9        681        0.004416   11011001                 
  1_10         1        10       525        0.003404   111011110                
  1_11         1        11       440        0.002853   111010000                
  1_12         1        12       325        0.002107   110110000                
  1_13         1        13       303        0.001965   110001010                
  1_14         1        14       245        0.001589   1110110011               
  1_15         1        15       205        0.001329   1110010100               
  1_16         1        16       271        0.001757   110000010                
  1_17         1        17       180        0.001167   1101101010               
  1_18         1        18       125        0.000811   11101110001              
  1_19         1        19       113        0.000733   11101000110              
  1_20         1        20       104        0.000674   11100101011              
  1_21         1        21       94         0.000610   11011011001              
  1_22         1        22       92         0.000597   11011010111              
  1_23         1        23       78         0.000506   11000101101              
  1_24         1        24       73         0.000473   11000100011              
  1_25         1        25       44         0.000285   110110101100             
  1_26         1        26       70         0.000454   11000100001              
  1_27         1        27       62         0.000402   111011100100             
  1_28         1        28       66         0.000428   111011111011             
  1_29         1        29       62         0.000402   111011100000             
  1_30         1        30       107        0.000694   11101000100              
  1_31         1        31       68         0.000441   111011111110             
  1_32         1        32       42         0.000272   110110100101             
  1_33         1        33       64         0.000415   111011111010             
  1_34         1        34       46         0.000298   110110110100             
  1_35         1        35       48         0.000311   110110111011             
  1_36         1        36       44         0.000285   110110100111             
  1_37         1        37       38         0.000246   110001001101             
  1_38         1        38       59         0.000383   111011000010             
  1_39         1        39       35         0.000227   110001000100             
  1_40         1        40       40         0.000259   110001011111             
  1_41         1        41       36         0.000233   110001000101             
  1_42         1        42       35         0.000227   1110111111111            
  1_43         1        43       31         0.000201   1110111000011            
  1_44         1        44       24         0.000156   1101101111100            
  1_45         1        45       23         0.000149   1101101011011            
  1_46         1        46       30         0.000195   1110110000111            
  1_47         1        47       24         0.000156   1101101111110            
  1_48         1        48       15         0.000097   11101100001100           
  1_49         1        49       21         0.000136   1101101001001            
  1_50         1        50       23         0.000149   1101101011010            
  1_51         1        51       25         0.000162   1101101111111            
  1_52         1        52       16         0.000104   11101110101110           
  1_53         1        53       16         0.000104   11101111100011           
  1_54         1        54       18         0.000117   1100010011000            
  1_55         1        55       22         0.000143   1101101001100            
  1_56         1        56       17         0.000110   11101111110011           
  1_57         1        57       16         0.000104   11101111100100           
  1_58         1        58       12         0.000078   11011011010110           
  1_59         1        59       21         0.000136   1101101001000            
  1_60         1        60       29         0.000188   1110100011101            
  1_61         1        61       15         0.000097   11101100001101           
  1_62         1        62       19         0.000123   1100010011001            
  1_63         1        63       11         0.000071   11011010011010           
  1_64         1        64       10         0.000065   11000101110100           
  1_65         1        65       14         0.000091   11101000101101           
  1_66         1        66       7          0.000045   111010001011100          
  1_67         1        67       8          0.000052   111011111000101          
  1_68         1        68       4          0.000026   1110111111000010         
  1_69         1        69       4          0.000026   1110111110011001         
  1_70         1        70       8          0.000052   111011101011001          
  1_71         1        71       2          0.000013   11101110101101101        
  1_72         1        72       3          0.000019   1100010111011111         
  1_73         1        73       6          0.000039   110110100110111          
  1_74         1        74       4          0.000026   1110111110010100         
  1_75         1        75       2          0.000013   11101111110001001        
  1_76         1        76       1          0.000006   111011111001011101       
  1_77         1        77       2          0.000013   11101110101111011        
  1_78         1        78       6          0.000039   110110111110101          
  1_79         1        79       4          0.000026   1110111010110100         
  1_80         1        80       4          0.000026   1110111001011001         
  1_81         1        81       4          0.000026   1110111010110001         
  1_82         1        82       5          0.000032   110001011101101          
  1_84         1        84       4          0.000026   1110111010111110         
  1_85         1        85       4          0.000026   1110111110011000         
  1_86         1        86       2          0.000013   11101110010111110        
  1_87         1        87       1          0.000006   111011101011110001       
  1_88         1        88       3          0.000019   1101101101010101         
  1_89         1        89       2          0.000013   11101110101111110        
  1_90         1        90       2          0.000013   11101110101111111        
  1_91         1        91       3          0.000019   1101101101010100         
  1_92         1        92       1          0.000006   111011111001111010       
  1_94         1        94       1          0.000006   111011101011000000       
  1_95         1        95       2          0.000013   11101111100110110        
  1_97         1        97       1          0.000006   111011101011000010       
  1_98         1        98       2          0.000013   11101110101111001        
  1_99         1        99       1          0.000006   111011111100000111       
  1_101        1        101      1          0.000006   111011101011000011       
  1_102        1        102      1          0.000006   111011111001101110       
  1_103        1        103      1          0.000006   111011101011110100       
  1_105        1        105      3          0.000019   1101101101011100         
  1_106        1        106      1          0.000006   111011100101111001       
  1_108        1        108      1          0.000006   111011100101111000       
  1_109        1        109      2          0.000013   11101111100010011        
  1_110        1        110      2          0.000013   11101111110000010        
  1_111        1        111      1          0.000006   111011100101110100       
  1_112        1        112      3          0.000019   1101101111101001         
  1_113        1        113      1          0.000006   111011111001101111       
  1_114        1        114      1          0.000006   111011100101111111       
  1_115        1        115      1          0.000006   111011101011110101       
  1_116        1        116      2          0.000013   11101111110001110        
  1_117        1        117      2          0.000013   11101111110001111        
  1_118        1        118      1          0.000006   111011111001111011       
  1_119        1        119      5          0.000032   110001011101110          
  1_120        1        120      2          0.000013   11101111110001010        
  1_121        1        121      3          0.000019   1101101101010010         
  1_122        1        122      3          0.000019   1101101101010011         
  1_123        1        123      1          0.000006   111011111001110001       
  1_124        1        124      2          0.000013   11101110101101011        
  1_125        1        125      3          0.000019   1101101111101100         
  1_126        1        126      3          0.000019   1101101101010001         
  1_127        1        127      1          0.000006   111011101011110000       
  1_128        1        128      1          0.000006   111011111001110000       
  1_202        1        202      3          0.000019   1101101101011110         
  1_203        1        203      1          0.000006   111011111100010000       
  1_204        1        204      2          0.000013   11101110101101111        
  1_205        1        205      2          0.000013   11101110101101110        
  1_206        1        206      1          0.000006   111011100101110011       
  1_207        1        207      2          0.000013   11101110000101101        
  1_208        1        208      2          0.000013   11101110000101100        
  1_209        1        209      2          0.000013   11101111100111011        
  1_210        1        210      2          0.000013   11101111100111010        
  1_211        1        211      1          0.000006   111011100101110010       
  1_212        1        212      3          0.000019   1101101111101101         
  1_213        1        213      1          0.000006   111011100101110001       
  1_214        1        214      1          0.000006   111011100101110000       

================================================================================
COMPRESSION RESULTS PER BIT PLANE (using common codebook)
================================================================================

gray_bit_plane_0.png:
  Runs: 32970, Fixed 6-bit: 197820 bits, Huffman: 102642 bits
  Fixed ratio: 3.0185, Huffman ratio: 1.5662
  Improvement: 48.11%

gray_bit_plane_1.png:
  Runs: 32675, Fixed 6-bit: 196050 bits, Huffman: 102299 bits
  Fixed ratio: 2.9915, Huffman ratio: 1.5610
  Improvement: 47.82%

gray_bit_plane_2.png:
  Runs: 29018, Fixed 6-bit: 174108 bits, Huffman: 96568 bits
  Fixed ratio: 2.6567, Huffman ratio: 1.4735
  Improvement: 44.54%

gray_bit_plane_3.png:
  Runs: 21975, Fixed 6-bit: 131850 bits, Huffman: 82334 bits
  Fixed ratio: 2.0119, Huffman ratio: 1.2563
  Improvement: 37.55%

gray_bit_plane_4.png:
  Runs: 16391, Fixed 6-bit: 98346 bits, Huffman: 68212 bits
  Fixed ratio: 1.5006, Huffman ratio: 1.0408
  Improvement: 30.64%

gray_bit_plane_5.png:
  Runs: 8690, Fixed 6-bit: 52140 bits, Huffman: 47973 bits
  Fixed ratio: 0.7956, Huffman ratio: 0.7320
  Improvement: 7.99%

gray_bit_plane_6.png:
  Runs: 6499, Fixed 6-bit: 38994 bits, Huffman: 37029 bits
  Fixed ratio: 0.5950, Huffman ratio: 0.5650
  Improvement: 5.04%

gray_bit_plane_7.png:
  Runs: 5994, Fixed 6-bit: 35964 bits, Huffman: 38909 bits
  Fixed ratio: 0.5488, Huffman ratio: 0.5937
  Improvement: -8.19%

================================================================================
SUMMARY
================================================================================

Bit Plane                 Fixed 6-bit  Huffman+RLE  Avg Code Len
--------------------------------------------------------------------------------
gray_bit_plane_0          3.0185       1.5662       3.1132      
gray_bit_plane_1          2.9915       1.5610       3.1308      
gray_bit_plane_2          2.6567       1.4735       3.3279      
gray_bit_plane_3          2.0119       1.2563       3.7467      
gray_bit_plane_4          1.5006       1.0408       4.1616      
gray_bit_plane_5          0.7956       0.7320       5.5205      
gray_bit_plane_6          0.5950       0.5650       5.6976      
gray_bit_plane_7          0.5488       0.5937       6.4913      
--------------------------------------------------------------------------------
Average                   1.7648       1.0986       4.3987      

Overall improvement with common Huffman codebook: 37.75%

Note: Using a common codebook is less optimal per-image, but requires
storing only ONE codebook instead of 8 separate ones.
