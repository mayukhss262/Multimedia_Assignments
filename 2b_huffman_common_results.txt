================================================================================
    HUFFMAN CODING WITH COMMON CODEBOOK FOR ALL GRAY CODED BIT-PLANES
    Statistics gathered from all 8 bit planes combined
================================================================================

--------------------------------------------------------------------------------
COMMON HUFFMAN CODEBOOK (shared across all bit planes)
--------------------------------------------------------------------------------
Total runs across all planes: 154952
Unique symbols: 127
Combined entropy: 3.7140 bits/symbol

  Symbol       Value    Length   Count      Prob       Huffman Code             
  ------------ -------- -------- ---------- ---------- -------------------------

  --- Runs of 0s (black) ---
  0_0          0        0        246        0.001588   1110110000               
  0_1          0        1        34310      0.221423   01                       
  0_2          0        2        17043      0.109989   100                      
  0_3          0        3        8962       0.057837   1011                     
  0_4          0        4        4963       0.032029   11001                    
  0_5          0        5        2941       0.018980   110111                   
  0_6          0        6        1814       0.011707   1110100                  
  0_7          0        7        1205       0.007777   1100010                  
  0_8          0        8        920        0.005937   11101010                 
  0_9          0        9        558        0.003601   11000000                 
  0_10         0        10       437        0.002820   111001010                
  0_11         0        11       343        0.002214   111000010                
  0_12         0        12       257        0.001659   1110110100               
  0_13         0        13       244        0.001575   1110101110               
  0_14         0        14       284        0.001833   110000010                
  0_15         0        15       245        0.001581   1110101111               
  0_16         0        16       172        0.001110   1100011111               
  0_17         0        17       147        0.000949   1100000111               
  0_18         0        18       127        0.000820   11101100111              
  0_19         0        19       119        0.000768   11101011001              
  0_20         0        20       97         0.000626   11100010110              
  0_21         0        21       78         0.000503   11000110110              
  0_22         0        22       98         0.000632   11100010111              
  0_23         0        23       94         0.000607   11100010000              
  0_24         0        24       63         0.000407   111011001100             
  0_25         0        25       78         0.000503   11000110111              
  0_26         0        26       67         0.000432   111011011110             
  0_27         0        27       70         0.000452   111011101110             
  0_28         0        28       48         0.000310   111000100111             
  0_29         0        29       94         0.000607   11100010010              
  0_30         0        30       63         0.000407   111011001010             
  0_31         0        31       58         0.000374   111010110000             
  0_32         0        32       63         0.000407   111011001101             
  0_33         0        33       49         0.000316   111001000000             
  0_34         0        34       53         0.000342   111001000101             
  0_35         0        35       53         0.000342   111001001110             
  0_36         0        36       29         0.000187   1110010011111            
  0_37         0        37       31         0.000200   1110101101111            
  0_38         0        38       32         0.000207   1110110101110            
  0_39         0        39       20         0.000129   1100011010110            
  0_40         0        40       43         0.000278   110001111011             
  0_41         0        41       22         0.000142   1110000110000            
  0_42         0        42       26         0.000168   1110010001001            
  0_43         0        43       22         0.000142   1110000110011            
  0_44         0        44       15         0.000097   11101011000110           
  0_45         0        45       17         0.000110   11101101111110           
  0_46         0        46       15         0.000097   11101011000111           
  0_47         0        47       5          0.000032   110000011010110          
  0_48         0        48       9          0.000058   11000001101010           
  0_49         0        49       5          0.000032   110000011010111          
  0_50         0        50       8          0.000052   111011010111110          
  0_51         0        51       3          0.000019   1110101100010000         
  0_52         0        52       1          0.000006   111011010111111000       
  0_53         0        53       1          0.000006   111010110001001111       
  0_54         0        54       1          0.000006   111011010111111001       
  0_55         0        55       5          0.000032   1110110101111111         
  0_56         0        56       2          0.000013   11101011000100110        
  0_57         0        57       2          0.000013   11101011000100101        
  0_58         0        58       1          0.000006   111010110001001110       
  0_60         0        60       2          0.000013   11101011000100100        
  0_61         0        61       2          0.000013   11101101011111101        
  0_62         0        62       3          0.000019   1110101100010001         
  0_63         0        63       124        0.000800   11101100100              

  --- Runs of 1s (white) ---
  1_0          1        0        1107       0.007144   11101111                 
  1_1          1        1        34023      0.219571   00                       
  1_2          1        2        16760      0.108163   1111                     
  1_3          1        3        8784       0.056689   1010                     
  1_4          1        4        5074       0.032746   11010                    
  1_5          1        5        2901       0.018722   110110                   
  1_6          1        6        1764       0.011384   1110011                  
  1_7          1        7        1171       0.007557   1100001                  
  1_8          1        8        826        0.005331   11100011                 
  1_9          1        9        684        0.004414   11100000                 
  1_10         1        10       531        0.003427   111011100                
  1_11         1        11       444        0.002865   111001011                
  1_12         1        12       327        0.002110   110001110                
  1_13         1        13       307        0.001981   110001100                
  1_14         1        14       248        0.001600   1110110001               
  1_15         1        15       213        0.001375   1110010010               
  1_16         1        16       277        0.001788   1110111010               
  1_17         1        17       185        0.001194   1110000111               
  1_18         1        18       131        0.000845   11101101110              
  1_19         1        19       120        0.000774   11101011010              
  1_20         1        20       106        0.000684   11100100011              
  1_21         1        21       100        0.000645   11100100001              
  1_22         1        22       97         0.000626   11100010101              
  1_23         1        23       83         0.000536   11000111100              
  1_24         1        24       75         0.000484   11000110100              
  1_25         1        25       48         0.000310   111000100110             
  1_26         1        26       72         0.000465   11000001100              
  1_27         1        27       64         0.000413   111011010110             
  1_28         1        28       69         0.000445   111011101100             
  1_29         1        29       63         0.000407   111011001011             
  1_30         1        30       107        0.000691   11100100110              
  1_31         1        31       69         0.000445   111011101101             
  1_32         1        32       44         0.000284   111000011010             
  1_33         1        33       64         0.000413   111011010101             
  1_34         1        34       47         0.000303   111000100011             
  1_35         1        35       50         0.000323   111001000001             
  1_36         1        36       45         0.000290   111000011011             
  1_37         1        37       38         0.000245   110001101010             
  1_38         1        38       60         0.000387   111010110110             
  1_39         1        39       36         0.000232   1110111011111            
  1_40         1        40       41         0.000265   110001111010             
  1_41         1        41       36         0.000232   1110111011110            
  1_42         1        42       38         0.000245   110000011011             
  1_43         1        43       32         0.000207   1110110101001            
  1_44         1        44       24         0.000155   1110001010011            
  1_45         1        45       24         0.000155   1110001000101            
  1_46         1        46       32         0.000207   1110110101000            
  1_47         1        47       26         0.000168   1110010001000            
  1_48         1        48       16         0.000103   11101101011110           
  1_49         1        49       24         0.000155   1110001010000            
  1_50         1        50       24         0.000155   1110001010010            
  1_51         1        51       26         0.000168   1110010011110            
  1_52         1        52       17         0.000110   11101101111101           
  1_53         1        53       18         0.000116   11101101111111           
  1_54         1        54       20         0.000129   1100011010111            
  1_55         1        55       23         0.000148   1110001000100            
  1_56         1        56       22         0.000142   1110000110010            
  1_57         1        57       18         0.000116   1100000110100            
  1_58         1        58       15         0.000097   11101011000101           
  1_59         1        59       24         0.000155   1110001010001            
  1_60         1        60       30         0.000194   1110101101110            
  1_61         1        61       17         0.000110   11101101111100           
  1_62         1        62       22         0.000142   1110000110001            
  1_63         1        63       260        0.001678   1110110110               

================================================================================
COMPRESSION RESULTS PER BIT PLANE (using common codebook)
================================================================================

gray_bit_plane_0.png:
  Runs: 32970, Fixed 6-bit: 197820 bits, Huffman: 102644 bits
  Fixed ratio: 3.0185, Huffman ratio: 1.5662
  Improvement: 48.11%

gray_bit_plane_1.png:
  Runs: 32675, Fixed 6-bit: 196050 bits, Huffman: 102299 bits
  Fixed ratio: 2.9915, Huffman ratio: 1.5610
  Improvement: 47.82%

gray_bit_plane_2.png:
  Runs: 29018, Fixed 6-bit: 174108 bits, Huffman: 96572 bits
  Fixed ratio: 2.6567, Huffman ratio: 1.4736
  Improvement: 44.53%

gray_bit_plane_3.png:
  Runs: 21979, Fixed 6-bit: 131874 bits, Huffman: 82376 bits
  Fixed ratio: 2.0122, Huffman ratio: 1.2570
  Improvement: 37.53%

gray_bit_plane_4.png:
  Runs: 16435, Fixed 6-bit: 98610 bits, Huffman: 68610 bits
  Fixed ratio: 1.5047, Huffman ratio: 1.0469
  Improvement: 30.42%

gray_bit_plane_5.png:
  Runs: 8882, Fixed 6-bit: 53292 bits, Huffman: 49270 bits
  Fixed ratio: 0.8132, Huffman ratio: 0.7518
  Improvement: 7.55%

gray_bit_plane_6.png:
  Runs: 6867, Fixed 6-bit: 41202 bits, Huffman: 39832 bits
  Fixed ratio: 0.6287, Huffman ratio: 0.6078
  Improvement: 3.33%

gray_bit_plane_7.png:
  Runs: 6126, Fixed 6-bit: 36756 bits, Huffman: 39853 bits
  Fixed ratio: 0.5609, Huffman ratio: 0.6081
  Improvement: -8.43%

================================================================================
SUMMARY
================================================================================

Bit Plane                 Fixed 6-bit  Huffman+RLE  Avg Code Len
--------------------------------------------------------------------------------
gray_bit_plane_0          3.0185       1.5662       3.1133      
gray_bit_plane_1          2.9915       1.5610       3.1308      
gray_bit_plane_2          2.6567       1.4736       3.3280      
gray_bit_plane_3          2.0122       1.2570       3.7479      
gray_bit_plane_4          1.5047       1.0469       4.1746      
gray_bit_plane_5          0.8132       0.7518       5.5472      
gray_bit_plane_6          0.6287       0.6078       5.8005      
gray_bit_plane_7          0.5609       0.6081       6.5056      
--------------------------------------------------------------------------------
Average                   1.7733       1.1090       4.4185      

Overall improvement with common Huffman codebook: 37.46%

Note: Using a common codebook is less optimal per-image, but requires
storing only ONE codebook instead of 8 separate ones.
